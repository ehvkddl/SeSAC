# Chappago
|<img width="350" src="https://github.com/ehvkddl/SeSAC-project/assets/57763334/005077f5-632d-4b78-b2b6-276d88d10d63">|<img width="350" src="https://github.com/ehvkddl/SeSAC-project/assets/57763334/80cdb679-f7c2-45d5-98a0-7de884a79fe5">|
|:-:|:-:|
|언어감지|번역하기|

## 🤔
### 원본 언어에 따라 번역할 수 있는 목적언어가 다 다름
  - 프로퍼티 옵저버를 사용하여 원본 언어 선택시 번역 가능한 언어들을 목적 언어 배열에 넣어줌!

### 언어 감지
  - 찐파고에서는 글자 입력할때마다 감지해서 번역해줌
  - 나는 API 사용 제한이 있으니까 입력할때마다 request 보내는 것은 안될 것 같음
    - 언어감지 선택
    - 중앙의 버튼을 ‘언어 감지’로 바꿈
    - ‘언어 감지’버튼 클릭시 언어 감지 API 호출
    - 감지한 언어에 따른 언어 코드 받아옴
      - 버튼 라벨 바꾸기 ‘언어 감지’ → ‘번역하기’
      - 원본 언어 피커 값 감지한 언어로 바꿔주기
      - 언어 코드에 따른 번역 가능 언어(목적 언어) 보여주기
    - 목적 언어 선택
    - ‘번역하기’버튼 클릭 → 번역 API 호출
    - 번역된 text 보여주기

### text field picker
  - 원본 언어 피커에서 선택시 번역 가능한 언어 배열의 0번째 index에 있는 언어를 보여주고 있었음
  - 언어 감지 선택시 목적 언어 배열이 비게되어 index out of range 오류가 나게 됨!
    - Language 열거형에 .none case 추가하기
      - Language.allCases를 사용하여 원본 언어 피커 title을 보여주고 있기 때문에 빈 문자열 선택지가 생겨버려서  보기 좋지 않음,,
    - 한국어는 모든 언어에 있는 번역 가능한 언어이니까 .ko로 두기
      - 만약 감지된 언어가 한국어라면 위 아래 피커에 모두 ‘한국어’가 선택되어있어 보기 좋지 않음
    - ✅ target을 Optional type으로 변경
      - 원본 언어 피커에서 언어 감지 선택시 target을 nil로 변경
      - target == nil 이면 빈 문자열 보여주기
      - 옵셔널 풀어주기는 좀 귀찮겠지만 불필요한 피커 row가 늘어나지도 않았고 같은 언어가 선택되어 있지도 않아서 보기 좋다!

### 통신 오류 날 때 확인해 볼 것
  - HTTP 메서드 잘 넣었는지 확인
    - POST 넣어야하는 곳에 GET 넣어놓고 외않되 하고 있었다,,
  - 사용 API 등록했는지
    - Naver API의 경우이긴 한데 내 애플리케이션에서 사용하고싶은 API 추가해줘야한다. 번역 API 추가했는데 왜 안되나 했더니 언어감지 API도 추가해줘야했다
